Based on http://www.javacodegeeks.com/2012/03/functional-programming-with-map-and.html